
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="..">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.0.14">
    
    
      
        <title>Buggy - DocGarbanzo Car</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.113286f1.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.a0c5b2b5.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#turnigy-brushless-4wd-buggy" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="DocGarbanzo Car" class="md-header__button md-logo" aria-label="DocGarbanzo Car" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            DocGarbanzo Car
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Buggy
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/DocGarbanzo/donkeycar/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="DocGarbanzo Car" class="md-nav__button md-logo" aria-label="DocGarbanzo Car" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    DocGarbanzo Car
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/DocGarbanzo/donkeycar/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Buggy
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Buggy
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#parts-to-chuck-out" class="md-nav__link">
    Parts to chuck out
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#parts-to-buy" class="md-nav__link">
    Parts to buy
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-build" class="md-nav__link">
    The build
  </a>
  
    <nav class="md-nav" aria-label="The build">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-chassis" class="md-nav__link">
    The chassis
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-base" class="md-nav__link">
    The base
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-camera-assembly" class="md-nav__link">
    The camera assembly
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-electronics" class="md-nav__link">
    The electronics
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fixing-and-cables" class="md-nav__link">
    Fixing and cables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-cover" class="md-nav__link">
    The cover
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#to-do" class="md-nav__link">
    To do
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#updates" class="md-nav__link">
    Updates
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#more-updates" class="md-nav__link">
    More updates
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#parts-to-chuck-out" class="md-nav__link">
    Parts to chuck out
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#parts-to-buy" class="md-nav__link">
    Parts to buy
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-build" class="md-nav__link">
    The build
  </a>
  
    <nav class="md-nav" aria-label="The build">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-chassis" class="md-nav__link">
    The chassis
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-base" class="md-nav__link">
    The base
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-camera-assembly" class="md-nav__link">
    The camera assembly
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-electronics" class="md-nav__link">
    The electronics
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fixing-and-cables" class="md-nav__link">
    Fixing and cables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-cover" class="md-nav__link">
    The cover
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#to-do" class="md-nav__link">
    To do
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#updates" class="md-nav__link">
    Updates
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#more-updates" class="md-nav__link">
    More updates
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="turnigy-brushless-4wd-buggy">Turnigy Brushless 4WD buggy</h1>
<p>The Turnigy 1/16th 4WD Brushless Buggy is a well made RC car which comes 
at a reasonable price. The car can be bought from <a href="https://hobbyking.com/en_us/turnigy-1-16-brushless-4wd-racing-buggy-w-25a-power-system-and-2-4ghz-radio-rtr.html?gclid=CjwKCAjwqqrmBRAAEiwAdpDXtFS4SQOmtAFHIMZ9HrEiBeGwMeOg9UfNnKB6_Nr-yxoUUoyarf6FORoC7NgQAvD_BwE&amp;gclsrc=aw.ds&amp;___store=en_us">HobbyKing</a>. </p>
<p><img alt="4WD_Buggy" src="../assets/4WD_buggy.jpg" /></p>
<p>I bought the buggy to build my donkey car on it. When I started with the 
donkey project the standard cars were not easily available in Europe. 
Using this buggy is for sure not as straight forward as building the 
<em>standard</em> Exceed or Magnet:
* the car needs some modifications in order to be usable as a donkey car
* the modifications are an additional investment (probably more in time 
than in $)
* for that work you need to be happy to do some mechanical work, like 
drilling, using a file if you use metal, etc
* for making things neat and fitting well, it's very handy to have access 
to a 3D printer and use some CAD software (I'm using Fusion360). </p>
<p>I am not familiar with the Exceed or Magnet car, but judging the pictures 
and the specs, I think that the Turnigy buggy is at least as good as the 
standard cars. Doing that build has been an interesting experience during 
which I took several detours and  made many mistakes. I could say I spent 
a good amount of effort in R&amp;D but it was more like T&amp;E (trial &amp; error). 
Finally, I think I have now converged towards a good vehicle with high 
quality driving behaviour and a very robust architecture, so I'll share 
my build here. If you start a non-standard <em>roll-your-own</em> build with 
another similar sized car, ie. 1/18 to 1/14 scale, the parts and 
approach below might work for you too. </p>
<p>As I am driving the car mainly outside my goal was to build a robust car 
that does not disintegrate when hitting a stone or similar obstacle. 
Also I want to avoid dirt and/or water getting too close to the 
electronics.</p>
<h2 id="parts-to-chuck-out">Parts to chuck out</h2>
<p>The buggy comes with a small ESC and quite powerful brushless motor. 
According the specs it is supposed to run up to 25mph. This is probably 
great for racing around in the backyard but not so suitable for running 
donkey on it as you will require good control at low speeds. I tried a 
couple of laps in the garden before I started the donkey car build and 
it was fun to drive but hard to control (as I am no RC driver). It was 
also quite noisy, and the motor as well as the ESC reached high 
temperatures in action.</p>
<h2 id="parts-to-buy">Parts to buy</h2>
<p>For the motor I settled with the Turnigy SK3 2836 1040 from 
<a href="https://hobbyking.com/en_us/turnigy-aerodrive-sk3-2836-1040kv-brushless-outrunner-motor.html?gclsrc=aw.ds&amp;gclid=CjwKCAjwwvfrBRBIEiwA2nFiPUKxThyzLSzGWZayfOwnxFth31bcAuTGR65S_pAo1QQNIYw3izbd0RoCejoQAvD_BwE&amp;___store=en_us">HobbyKing</a>. 
This is a brushless outrunner motor with good power and lowest kV that I 
could find. Meaning it runs well also on lower RPMs. It also has a can 
diameter of 28mm, which means it will just fit into the car, whereas all 
the 1/10 RC motors with their 36mm can diameter will not. In order to 
drive the spur gear there is also a motor pinion for a 3.175 shaft 
required. I chose 14 teeth, 15 will fit, too. This is a standard RC part 
that can be bought in any RC online shop.
<img alt="SK3 outrunner" src="../assets/SK3-motor.jpg" /></p>
<p>When I first got the motor and hooked it up to the original car's ESC I 
found it was not suitable either, as it required some throttle to get 
started and could not run on low speeds. Although the high speed was 
less than the original car in-runner motor. After reading that 
non-sensored brushless motors would not have enough passive control 
through a standard sensorless ESC I initially gave up on the plan to use 
that motor and went with a brushed motor/ESC combination instead initially. 
However, I found that after changing the ESC I could run the motor very 
well at low speeds in a very controllable way. I am using a cheap ESC 
from <a href="https://www.ebay.co.uk/itm/45-120A-ESC-Sensored-Brushless-Speed-Controller-for-RC-1-8-1-10-Car-Crawler/123836633866?ssPageName=STRK%3AMEBIDX%3AIT&amp;var=424542043077&amp;_trksid=p2057872.m2749.l2649">Ebay</a>. 
It turns out that this works brilliantly in the combination with the SK3 
outrunner motor.
<img alt="45 Amp ESC" src="../assets/esc-45amp.jpg" /></p>
<p>So far it looks like that the motor and the ESC are not developing any 
heat even when going at full throttle.</p>
<h2 id="the-build">The build</h2>
<h3 id="the-chassis">The chassis</h3>
<p>In order to fit the motor into the original mounting bracket there is 
some filing or drilling required as the motor mount hole pattern of the 
larger SK3 motor does not fit the original holes. Here is a picture with 
only the chassis of the car with the motor mounted (wheels look like 
they are not parallel but this is somehow due to the iPhone picture 
optics...)</p>
<p><img alt="Chassis" src="../assets/chassis-1.jpeg" /></p>
<p>Here is the motor as seen from the side. In the background is my 
odometer disc that is mounted on the drive shaft.
<img alt="Motor mounted" src="../assets/motor-1.jpeg" /></p>
<p>This is the steering servo. I had to replace it after the original servo 
broke. 
<img alt="Steering servo" src="../assets/front-servo.jpeg" /></p>
<p>My donkey car has been involved in many crashless - mostly due reckless 
driving when on its own, ignoring physical obstacles and doing all kind 
of stubborn juvenile behaviour. Some hard crash broke the front 
suspension unit that I replaced w/ an upgraded metal suspension one. But 
long story short, donkey needs a front bumper to protect him from 
himself, so I made a 3D printed part (actually I made 2 parts, the first 
one not strong enough as donkey broke that one almost immediately, too).
<img alt="bumper1" src="../assets/bumper-1.jpeg" />
Here is where the bumper is fixed on the upper end.
<img alt="bumper2" src="../assets/bumper-2.jpeg" /></p>
<h3 id="the-base">The base</h3>
<p>I decided to create a fixed base plate that is mounted to the chassis 
with strong joints. I also wanted a camera holder to be fixed to the 
frame but with the option to remove the camera from it or to remove the 
electronics without much hassle. Therefore I created a base plate and 
camera holder from 1mm sheet metal (mild steel) and a 3D-printed 
electronics carrier plate. The camera also has a 3D-printed case that is 
fixed to the holder with screws. Here are the parts:
<img alt="all-parts" src="../assets/all-parts.jpeg" /></p>
<p>The base plate requires some amount of drilling hols for screws and 
cable openings. Here I already installed a rear aluminium angle bar for 
mounting the main switch and shut-down push button and screw terminals 
for the power distribution.
<img alt="base" src="../assets/base.jpeg" /></p>
<p>This is the camera holder with a right angle slotted plate, to feed the 
camera cable into the housing.
<img alt="cam-holder" src="../assets/cam-holder.jpeg" /></p>
<p>The electronic carrier was modelled in Fusion360, using CAD drawings for
the RPi and the PCA9685 for mounting studs. It also takes the RC 
receiver with a push fit and a 3 Amp voltage step dow converter (push 
fit plus a small bit of hot glue).
<img alt="elec-carrier" src="../assets/elec-carrier.jpeg" /></p>
<p>For the assembly I use 3mm hex cap head (i.e Allen) screws and beer. 
Washers and nuts are small and fiddly they fall down and disappear into 
hidden spaces, to keep your cool you use the beer. I have a whole box in 
all lenghts between 6mm and 40mm.
<img alt="screws" src="../assets/screws.jpeg" /></p>
<p>Mounting the camera holder with its angle bracket to the base plate.
<img alt="base+cam" src="../assets/base%2Bcam.jpeg" /></p>
<p>Mounting the on/off switch and connecting to terminals.
<img alt="switch" src="../assets/switch.jpeg" /></p>
<p>This is the angle bracket with the switch and the small push button 
installed. The latter allows to shut-down the RPi through setting a 
specific pin to ground. Please see Andrea <a href="http://www.sensorsiot.org/raspberry-pi-tricks/">raspberry-pi-tricks</a> 
page.
<img alt="panel" src="../assets/panel.jpeg" /></p>
<p>To mount the ESC to the base plate I 3D printed as small holder with two 
holes for the screws.
<img alt="esc-holder" src="../assets/esc-holder.jpeg" /></p>
<p>This is how it looks with all the electronics mounted on the rear of the 
base plate.
<img alt="esc-mounted" src="../assets/esc-mounted.jpeg" /></p>
<h3 id="the-camera-assembly">The camera assembly</h3>
<p>Here is a view of the camera case. The case is a 3D design where I 
modelled up the camera and used it as a tool to cut out the shape from a 
rectangular case. It mounts flush to the holder which has a hole for the 
lense.
<img alt="cam-case" src="../assets/cam-case.jpeg" /></p>
<p>The holder assembled to the base plate and with the angular bracket 
attached which serves as a base for cover that is added later in the 
build. It also has a slot to pass through the camera ribbon cable.
<img alt="cam-holder" src="../assets/cam-holder.jpeg" /></p>
<p>I made a small grommit to create a tight fit around the cable.
<img alt="cam-grommit" src="../assets/cam-grommit.jpeg" /></p>
<h3 id="the-electronics">The electronics</h3>
<p>Firstly I fitted the RC receiver into the push fit bracket on the carrier.
<img alt="rc-1" src="../assets/rc-1.jpeg" />
This is a tight fit and will not shake loose. There is no glue or 
anything required. In the CAD design I made the cutout in the bracket 
0.2mm larger than the measured dimension of the receiver. This required 
a small bit of filing. Likely 0.4mm would have worked, too.
<img alt="rc-2" src="../assets/rc-2.jpeg" />
Next was the PCA 9685 PWM driver board which just needs pushing onto the 
studs. The fit is really tight too and no further fasteners are needed. 
Top view here...
<img alt="pca9685-1" src="../assets/pca9685-1.jpeg" />
... and side view, here:
<img alt="pca9685-2" src="../assets/pca9685-2.jpeg" /></p>
<p>Afterwards attaching the RPi to the carrier plate with screws. My 
intention was to use the same printed studs like for the PWM driver pcb 
but it turned out that Cura (my 3D printer software) had decided to make 
the base columns of the RPi studs hollow which resulted in the top parts 
braking off. So I screwed in the RPi with four 2.5mm Philips plastic 
screws.</p>
<p>Here is a view of the RPi attached and the carrier already provisionally 
moved into place.
<img alt="elec-all-1" src="../assets/elec-all-1.jpeg" /></p>
<p>This is the whole base plate of the car. Also the voltage converter is 
attached now. The fit is not tight enough to hold that mini pcb inside 
the cutout area. I therefore put a small bit of hot glue in between.
<img alt="elec-all-2" src="../assets/elec-all-2.jpeg" /></p>
<p>This is the whole car from the top. There is obviously not much space 
left. Making the base plate larger is also not an option as it would 
start fouling one of the tires if the suspension gets fully compressed.
<img alt="elec-all-3" src="../assets/elec-all-3.jpeg" /></p>
<h3 id="fixing-and-cables">Fixing and cables</h3>
<p>There is whole for the power supply cables to the battert (in my case 
XT-60) plug.
<img alt="power-cable" src="../assets/power-cable.jpeg" /></p>
<p>Now I fixed the electronics carrier with 2 screws to the base plate:
<img alt="carrier-fix-1" src="../assets/carrier-fix-1.jpeg" /></p>
<p><img alt="carrier-fix-2" src="../assets/carrier-fix-2.jpeg" /></p>
<p>In the end I connected all cables:
* Battery+ to the voltage converter input
* Voltage converter output to RPi 5V input
* Battery- to RPi Gnd
* RPi +3.3V, Gnd, I2C SCL and SDA to PCA9685
* RPi +3.3V, Gnd and 3 channels to the RC receiver
* RPi +3.3V, Gnd and 1 channel to the odometer
As you are probably aware that the RPi has only 2 +3.3V pins - instead 
of making a Y-cable or adding a +3.3V power terminal, I just soldered 
the second row of pins to the PCA9685 and used +3.3V and Gnd from there.</p>
<p><img alt="elec-cables" src="../assets/elec-cables.jpeg" /></p>
<p>For the ESC switch and the 2 capacitors I didn't have any space. I might 
create some bracket/holder for them in the future but for now I just put 
them into the rear area. With so many cables around they can't move very 
far. I also joined some cables with wires to tidy up the cable mess a 
little more.</p>
<h3 id="the-cover">The cover</h3>
<p>For the cover I 3D-printed a 2.4mm thick half case that fits the 
dimensions of the base, camera holder and rear angle bracket exactly. 
Again I used the technique to model up the internal parts of the base 
plate in one component first and then create a second component around 
the first one making use of the useful feature 'Project Geometry' in 
Fusion360. I also printed upside down and avoided any overhanging parts 
with &lt; 45 degree, so no support was needed. 
<img alt="cover" src="../assets/cover.jpeg" /></p>
<p>The cover sits on the front angle bracket of the camera holder into 
which put a 3mm screw with a hex nut. There is a corresponding cut out 
in the cover so it fits exactly over it and I bolted it down with a 
small piece of sheet metal to spread the load. 
<img alt="top" src="../assets/top.jpeg" /></p>
<p>This is the rear cutout area where the switch and push button are 
accessible.
<img alt="cutout" src="../assets/cutout.jpeg" /></p>
<p>The front of the donkey car has a small cutout to supply the RPi with 
external power if needed.
<img alt="front" src="../assets/front.jpeg" /></p>
<p>The rear of the donkey car. I couldn't wait to try out the car 
hence it is already dirty. Here the cover is attached to the rear 
suspension tower with an m4 screw, just screwed into a spacer block that 
sticks out on the rear of the cover.
<img alt="back" src="../assets/back.jpeg" /></p>
<p>With the cover on, there is no way any dirt or water can get into the 
electronics and it keeps them reasonably shielded from physical impacts. 
All in all the whole construction now also feels rigid enough for 
hopefully many rounds of <em>fast</em> and <em>out-of-control</em> driving.</p>
<h2 id="to-do">To do</h2>
<ol>
<li>
<p>When running an outrunner motor there is no need to use an 
odometer on the drive shaft any longer utilising a disk with embedded 
neodym magnets. You get a much higher angular resolution when placing 
the hall sensor (I am using a bipolar latching SS460S) directly next to 
the rotating can of the motor. I will do this at some point.</p>
</li>
<li>
<p>The ESC and the motor are both specified for 3S so I could run the 
car at more power. Will try.</p>
</li>
<li>
<p>The spur gear is made of plastic and I chewed through already 2 of 
those. The spur gear - motor pinion alignment is generally not great in
the factory version of the buggy, there is a 
<a href="https://www.youtube.com/watch?v=W_q0FRJMvM0">video</a> here, showing the 
issue and a (possible) resolution. This misalignment was no problem for
me as I removed the original motor and ran the car with a 370 motor for
some time as this allowed a more controlled throttle response. In the
aftermath I now know that the spur gear wear was likely due to the non-
perfect fit of the spur pinion gear of that 370 motor, as I just moved 
the pinion from the factory motor over. The gear was not perfectly 
centered and there was a small bid of wobble. After running with the SK3
motor which pinion fits more precise to the drive shaft I have observed 
almost no wear on the spur gear. I cannot recommend these 370 motors, as
they get very hot and I destroyed two of them during crashes, they seem
to be rather fragile.
<img alt="370-motors" src="../assets/370-motors.jpeg" />
Even with the better alignment I would prefer a metal drive train 
throughout though.</p>
</li>
<li>
<p>I plan to also fit some sort of mini OLED display for showing 
battery charge and processor temperature or similar.</p>
</li>
</ol>
<h2 id="updates">Updates</h2>
<ol>
<li>
<p>Installed a bipolar latching hall effect sensor underneath the build plate 
   which now reads the outrunner magnets directly. This increases the resolution
   by a lot. I have now 630 ticks per meter.
   <img alt="odometer" src="../assets/odometer.jpeg" /></p>
</li>
<li>
<p>I made more space for the 3S battery. This fits and works fine.</p>
</li>
<li>
<p>The RPi now has a cooling fan as it was throttling its CPU - thanks
   for the community help getting to the bottom of this. The fan
   required drilling holes into the cover, otherwise its rotation was
   too restricted leading to power drain and more throttling.</p>
</li>
<li>
<p>I made a lap timer and added it to the car.
   <img alt="laptimer-car" src="../assets/laptimer-car.jpeg" />. It is activated by a
   sensor
   <a href="https://www.ebay.co.uk/itm/2pcs-IR-Receiver-Module-38-kHz-TSOP4838-DIP-3-UK-SELLER-675/223411429453?ssPageName=STRK%3AMEBIDX%3AIT&amp;_trksid=p2057872.m2749.l2649">TSOP 4838</a>.
   The sensor recognises 38kHz pulsed IR lights, which is used in legacy
   IR remote controls. To read the signal into the car loop I made a
   donkey part for it. In order to generate the pulsed light I designed a
   simple timer 555-based circuit. Placing the light at some place on the 
   track makes the car record each time the sensor passes by. This gives me 
   laps counts and lap-times that I
   add to the tub - super useful. <img alt="laptimer1" src="../assets/laptimer1.jpeg" />
   <img alt="laptimer2" src="../assets/laptimer2.jpeg" />
   <img alt="laptimer3" src="../assets/laptimer3.jpeg" /> Please note, the IR diode emits
   non-visible light, what lights up red is just a status led showing
   the thing to be on/off.</p>
</li>
<li>
<p>And this is a sneak preview of s/th new... more to come soon.
   <img alt="sneak" src="../assets/sneak.jpeg" />.</p>
</li>
</ol>
<h2 id="more-updates">More updates</h2>
<ol>
<li>After having experienced occasional missed lap readings from my IR sensor 
   I swapped out the TSOP_4383 against an TSSP58038. The TSOP_4383 is very 
   directional and when the car passes the sensor in the wrong angle or for 
   a too short interval it might not register. This is annoying because it 
   will spoil the data which is difficult to fix, once recorded with wrong 
   lap times and lap counts. 
   The TSSP58038 is very sensitive. In fact, it is very very very sensitive. 
   Switch on a 38kHz pulsed IR light pointing into any direction from (almost) 
   any position in the room and the sensor will trigger. In the beginning I 
   thought this was bad, but in fact, it is good. I buried the sensor with a 
   3D printed part about 1cm deep, see here:
   <img alt="laptimer_car_new" src="../assets/laptimer-car-new.jpeg" />
   Now, the sensor only triggers if it is within a relatively small angle. 
   But because of the high sensitivity, the distance between the car and the 
   emitter light can be large, even outside. 10m are no problem. You need to 
   be more careful now, where to place the emitter. Placing the emitter on the 
   wrong place on an S-formed shaped track segment will make it trigger 
   twice :-).</li>
<li>The laptimer mishaps above motivated me to also add an LED to the car. 
   The LED is of common cathode type and its three anodes are connected to 
   three channels on the PCA9685. Because the PCA9685 board has an integrated 
   resistor in series to the pwm output pin, you can connect LEDs to these 
   pins directly without the need of adding a resistor for the required 
   voltage drop.<br />
<img alt="rgb_led" src="../assets/rgb_led.jpeg" />
   I created a part for the LED - check out the code if you are interested, it 
   is using thread queues in order to achieve blinking behaviour that is 
   independent of the vehicle loop. Like sending a set of three red flashes 
   when the lap timer has been triggered or a violet flash when deleting 
   records from the tub, etc. The thread queue handles the management of 
   these display request, because there could be a couple of them within a 
   short time.</li>
</ol>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.2a6f1dda.min.js"></script>
      
    
  </body>
</html>